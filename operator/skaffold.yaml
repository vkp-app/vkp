apiVersion: skaffold/v2beta29
kind: Config
metadata:
  name: operator
build:
  artifacts:
  - image: controller
    custom:
      buildCommand: ./hack/build.sh
#    ko:
#      dependencies:
#        paths:
#          - api/
#          - controllers/
#          - main.go
#          - go.mod
#          - go.sum
  local:
    push: false
deploy:
  kustomize:
    paths:
    - config/crd
profiles:
- name: default
  deploy:
    kustomize:
      paths:
      - config/default
- name: manager
  deploy:
    kustomize:
      paths:
      - config/manager
- name: manifests
  deploy:
    kustomize:
      paths:
      - config/manifests
- name: prometheus
  deploy:
    kustomize:
      paths:
      - config/prometheus
- name: rbac
  deploy:
    kustomize:
      paths:
      - config/rbac
- name: samples
  deploy:
    kustomize:
      paths:
      - config/samples
- name: scorecard
  deploy:
    kustomize:
      paths:
      - config/scorecard
